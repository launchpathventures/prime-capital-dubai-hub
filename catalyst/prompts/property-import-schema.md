# Property Import Data Structure

## Purpose

This document defines the complete data structure for importing property listings into the Prime Capital Dubai website. Use this schema when preparing property data for import.

---

## Database Schema

### Required Fields

| Column | Type | Description | Example |
|--------|------|-------------|---------|
| `slug` | text | URL-friendly unique identifier (kebab-case, lowercase) | `"one-za-abeel-residence"` |
| `title` | text | Property display name | `"One Za'abeel Residence"` |
| `type` | text | Property category | `"Apartment"`, `"Villa"`, `"Penthouse"`, `"Townhouse"` |
| `location` | text | Area/district name | `"Za'abeel"`, `"Palm Jumeirah"` |
| `status` | text | Completion status | `"Ready"`, `"Off-Plan"`, `"Under Construction"` |

### Basic Info (Optional)

| Column | Type | Description | Example |
|--------|------|-------------|---------|
| `city` | text | City name | `"Dubai"` |
| `country` | text | Country name | `"UAE"` |
| `developer` | text | Developer/builder name | `"Emaar"`, `"Ithra Dubai"` |
| `developer_website` | text | Developer's website URL | `"https://emaar.com"` |
| `project_website` | text | Project-specific website | `"https://onezaabeel.com"` |

### Pricing (Optional)

| Column | Type | Description | Example |
|--------|------|-------------|---------|
| `price` | text | Formatted price display (legacy) | `"AED 8,500,000"` |
| `price_from` | numeric | Minimum price (raw number, no formatting) | `8500000` |
| `price_to` | numeric | Maximum price (for ranges) | `15000000` |
| `currency` | text | Currency code (default: AED) | `"AED"`, `"USD"` |

### Property Specifications (Optional)

| Column | Type | Description | Example |
|--------|------|-------------|---------|
| `bedrooms` | text | Bedroom count or range | `"3"`, `"2-4"` |
| `bathrooms` | integer | Number of bathrooms | `4` |
| `size_from` | numeric | Minimum size | `3200` |
| `size_to` | numeric | Maximum size | `5500` |
| `size_unit` | text | Size unit (default: sq ft) | `"sq ft"`, `"sq m"` |
| `completion_date` | text | Expected/actual completion | `"2026-Q4"`, `"2025-06-01"` |
| `sale_status` | text | Sales status | `"Available"`, `"Sold Out"`, `"Limited"` |

### Content (Optional)

| Column | Type | Description | Example |
|--------|------|-------------|---------|
| `description` | text | Full property description (markdown supported) | See example below |
| `features` | text[] | Array of feature strings | `["Private pool", "Sea views"]` |

### Images (Optional)

| Column | Type | Description | Example |
|--------|------|-------------|---------|
| `cover_image` | text | Main hero image URL | `"/images/properties/cover.jpg"` |
| `images` | text[] | Gallery image URLs | `["/images/p1.jpg", "/images/p2.jpg"]` |
| `master_plan_images` | text[] | Master plan diagrams | `["/images/masterplan.jpg"]` |
| `interior_images` | text[] | Interior photos | `["/images/interior-1.jpg"]` |
| `lobby_images` | text[] | Lobby/common area photos | `["/images/lobby.jpg"]` |
| `architecture_images` | text[] | Exterior/architecture photos | `["/images/arch.jpg"]` |

### Location (Optional)

| Column | Type | Description | Example |
|--------|------|-------------|---------|
| `coordinates` | jsonb | Map coordinates | `{"lat": 25.2048, "lng": 55.2708}` |

### Investment Analysis (Optional)

| Column | Type | Description |
|--------|------|-------------|
| `investment` | jsonb | Investment data object (see structure below) |
| `unit_types` | jsonb | Unit mix/block data (see structure below) |

### Display Control (Optional)

| Column | Type | Default | Description |
|--------|------|---------|-------------|
| `featured` | boolean | `false` | Show on homepage/featured sections |
| `is_partner_project` | boolean | `false` | Partner/sponsored property |
| `display_order` | integer | `0` | Sort order (lower = first) |

### Reelly.ai Integration (Optional)

| Column | Type | Description |
|--------|------|-------------|
| `reelly_id` | integer | Reelly.ai project ID for sync |

### Auto-Generated Fields (DO NOT INCLUDE)

These are automatically generated by the database:

- `id` — UUID primary key
- `created_at` — Timestamp
- `updated_at` — Timestamp
- `last_synced_at` — Sync timestamp

---

## Investment Data Structure

The `investment` field is a JSON object with the following structure:

```json
{
  "reasonsToInvest": [
    "Iconic landmark property with strong brand recognition",
    "Limited inventory: Only 264 residences",
    "Direct DIFC connectivity via The Link"
  ],
  "pricePerSqFt": 2656,
  "areaAvgPricePerSqFt": 2400,
  "estimatedRentalYield": 5.8,
  "estimatedAnnualRent": 493000,
  "historicalAppreciation": 12.5,
  "serviceCharge": 22,
  "developerTrackRecord": "Ithra Dubai, a subsidiary of Investment Corporation of Dubai, delivered The Link on schedule. Portfolio includes One Central and ICD Brookfield Place.",
  "locationHighlights": [
    { "time": "5 min", "destination": "DIFC" },
    { "time": "8 min", "destination": "Downtown Dubai" },
    { "time": "15 min", "destination": "DXB Airport" }
  ],
  "comparables": [
    { "project": "Dorchester Collection", "location": "Business Bay", "pricePerSqFt": 5294 },
    { "project": "Address Sky View", "location": "Downtown Dubai", "pricePerSqFt": 2800 }
  ]
}
```

### Investment Fields

| Field | Type | Description |
|-------|------|-------------|
| `reasonsToInvest` | string[] | Key selling points (3-5 items) |
| `pricePerSqFt` | number | Price per square foot |
| `areaAvgPricePerSqFt` | number | Area average for comparison |
| `estimatedRentalYield` | number | Percentage (e.g., 5.8 for 5.8%) |
| `estimatedAnnualRent` | number | Annual rental income estimate |
| `historicalAppreciation` | number | YoY appreciation percentage |
| `serviceCharge` | number | Service charge per sq ft |
| `developerTrackRecord` | string | Developer background text |
| `locationHighlights` | array | Proximity to key destinations |
| `comparables` | array | Similar properties for comparison |

---

## Unit Types Structure

The `unit_types` field stores unit mix data (maps to Reelly.ai `unit_blocks`):

```json
[
  {
    "id": 1,
    "name": "Tower A",
    "unit_type": "Apartment",
    "normalized_type": "apartment",
    "unit_bedrooms": "2",
    "units_amount": 50,
    "units_area_from": 1200,
    "units_area_to": 1500,
    "units_price_from": 2500000,
    "units_price_to": 3200000,
    "area_unit": "sq ft",
    "price_currency": "AED",
    "typical_unit_image_url": "/images/unit-2br.jpg"
  }
]
```

---

## Complete JSON Example

```json
{
  "slug": "creek-harbour-tower-residences",
  "title": "Creek Harbour Tower Residences",
  "type": "Apartment",
  "location": "Dubai Creek Harbour",
  "city": "Dubai",
  "country": "UAE",
  "developer": "Emaar",
  "developer_website": "https://emaar.com",
  "project_website": "https://emaar.com/creek-harbour",
  "status": "Off-Plan",
  "sale_status": "Available",
  "price_from": 2500000,
  "price_to": 8500000,
  "currency": "AED",
  "bedrooms": "1-4",
  "bathrooms": 3,
  "size_from": 850,
  "size_to": 3200,
  "size_unit": "sq ft",
  "completion_date": "2027-Q2",
  "description": "Premium waterfront apartments with stunning views of Dubai Creek Tower and the Dubai skyline. Features include floor-to-ceiling windows, premium finishes, and world-class amenities.",
  "features": [
    "Waterfront location",
    "Creek Tower views",
    "Infinity pool",
    "Concierge service",
    "Smart home technology"
  ],
  "cover_image": "/images/properties/creek-harbour-cover.jpg",
  "images": [
    "/images/properties/creek-harbour-1.jpg",
    "/images/properties/creek-harbour-2.jpg"
  ],
  "coordinates": { "lat": 25.2048, "lng": 55.3208 },
  "investment": {
    "reasonsToInvest": [
      "Prime waterfront location in Dubai's newest district",
      "Emaar's flagship development with strong brand value"
    ],
    "pricePerSqFt": 2200,
    "areaAvgPricePerSqFt": 2000,
    "estimatedRentalYield": 6.2,
    "developerTrackRecord": "Emaar is the developer behind Burj Khalifa, Dubai Mall, and Dubai Marina."
  },
  "featured": true,
  "is_partner_project": false,
  "display_order": 5
}
```

---

## Reelly.ai Field Mapping

When importing from Reelly.ai API, use this mapping:

| Reelly.ai Field | Our Field | Notes |
|-----------------|-----------|-------|
| `id` | `reelly_id` | Store for sync tracking |
| `name` | `title` | Direct mapping |
| `developer` | `developer` | Direct mapping |
| `developer_website` | `developer_website` | Direct mapping |
| `area` | `location` | Area/district name |
| `city` | `city` | Direct mapping |
| `country` | `country` | Direct mapping |
| `status` | `status` | Normalize to: Ready, Off-Plan, Under Construction |
| `is_partner_project` | `is_partner_project` | Direct mapping |
| `cover_image_url` | `cover_image` | Direct mapping |
| `sale_status` | `sale_status` | Direct mapping |
| `completion_datetime` | `completion_date` | Format as text (e.g., "2027-Q2") |
| `coordinates` | `coordinates` | Parse to `{"lat": x, "lng": y}` |
| `overview` | `description` | Direct mapping |
| `website` | `project_website` | Direct mapping |
| `unit_blocks` | `unit_types` | Store as JSON array |
| `master_plan` | `master_plan_images` | Extract image URLs to array |
| `interior` | `interior_images` | Extract image URLs to array |
| `lobby` | `lobby_images` | Extract image URLs to array |
| `architecture` | `architecture_images` | Extract image URLs to array |

---

## Validation Rules

1. **slug** — Must be unique, lowercase, kebab-case (e.g., `my-property-name`)
2. **type** — Use: `Apartment`, `Villa`, `Penthouse`, `Townhouse`, `Plot`
3. **status** — Use: `Ready`, `Off-Plan`, `Under Construction`
4. **price_from/price_to** — Raw numbers only, no formatting or currency symbols
5. **bedrooms** — Text format allows ranges: `"3"` or `"2-4"`
6. **features** — Array of strings, each feature as separate item
7. **images** — Array of URL strings
8. **coordinates** — Must be valid JSON with `lat` and `lng` keys

---

## Batch Import Format

For multiple properties, prepare as a JSON array:

```json
[
  { "slug": "property-1", "title": "Property 1", "type": "Apartment", "location": "Downtown", "status": "Ready" },
  { "slug": "property-2", "title": "Property 2", "type": "Villa", "location": "Palm Jumeirah", "status": "Off-Plan" }
]
```

---

## Notes

- All prices are in AED unless `currency` specifies otherwise
- All sizes are in sq ft unless `size_unit` specifies otherwise
- Images should be uploaded separately; provide URLs/paths in the data
- The `investment` field is optional but enhances the property detail page significantly
